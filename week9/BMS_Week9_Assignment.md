# 기초의학통계 9주차 실습 과제 정리

범주형 자료분석 II — 교차비 및 로지스틱 회귀분석
작성자: 김도연
데이터 출처: logit_OR.xlsx
분석 도구: R 4.3.2

---

# 과제 1. 고염식(소금 섭취 과다)과 고혈압의 관련성

## 문제 1-1. 교차표 완성하기

조건: 총 900명, 고염식군 480명, 비고염식군 420명, **비고염식군 고혈압 유병률 30%**, **전체 고혈압자 330명**.

* 비고염식군 고혈압자 c = 0.30 × 420 = **126명**
* 전체 고혈압자 a + c = 330 → 고염식군 고혈압자 a = **204명**
* 고염식군 비고혈압자 b = 480 − 204 = **276명**
* 비고염식군 비고혈압자 d = 420 − 126 = **294명**

| 구분     |   고혈압 있음(+) |   고혈압 없음(−) |  합계 |
| ------ | ----------: | ----------: | --: |
| 고염식(+) | **204 (a)** | **276 (b)** | 480 |
| 고염식(−) | **126 (c)** | **294 (d)** | 420 |
| 합계     |   330 (a+c) |   570 (b+d) | 900 |

---

## 문제 1-2. 교차비(OR) 계산하기

$$

\text{OR} = \frac{a/b}{c/d} = \frac{ad}{bc} = \frac{(204 \times 294)}{(276 \times 126)} = 1.72

$$

➡ **고염식군의 고혈압 오즈는 비고염식군보다 약 1.72배 높음**

**해석:**
고염식은 고혈압의 위험을 높이는 요인으로 해석되며, 만약 95% 신뢰구간이 1을 포함하지 않는다면 통계적으로 유의하다고 볼 수 있다.

---

# 과제 2. 신체활동과 비만의 관련성 (공변량 보정 포함)

## 문제 2-1. Full model (Education 포함)

```r
LOR5 <- glm(Obesity ~ Physical_activity + age + Fat_meal + Drink + Sex + Education,
            data=df_logit, family=binomial)
summary(LOR5)
```

| 변수                 | Estimate | Std.Error | z value | p-value |
| ------------------ | -------: | --------: | ------: | ------: |
| (Intercept)        |  -1.4935 |    0.3153 |  -4.737 |  <0.001 |
| Physical_activity1 |  -0.6688 |    0.1792 |  -3.732 |  <0.001 |
| age                |   0.0463 |    0.0066 |   6.971 |  <0.001 |
| Fat_meal1          |   0.4586 |    0.1827 |   2.511 |   0.012 |
| Drink1             |   0.4500 |    0.1897 |   2.372 |   0.018 |
| Sex2               |   1.3519 |    0.2132 |   6.341 |  <0.001 |
| Education2         |  -0.4143 |    0.2754 |  -1.504 |   0.133 |
| Education3         |  -0.2980 |    0.2628 |  -1.134 |   0.257 |
| Education4         |  -0.1927 |    0.2603 |  -0.740 |   0.459 |

### OR (exp(β)) 및 95% CI

| 변수                        |        OR | 95% CI        | 해석                           |
| ------------------------- | --------: | :------------ | ---------------------------- |
| Physical_activity(1 vs 0) | **0.512** | (0.361–0.728) | 신체활동자는 비활동자보다 비만 odds 49% 낮음 |
| age (연속)                  | **1.047** | (1.034–1.061) | 나이 1세 증가당 비만 odds 1.05배 증가   |
| Fat_meal(1 vs 0)          | **1.582** | (1.106–2.263) | 고지방식이는 비만 odds 1.6배 높음       |
| Drink(1 vs 0)             | **1.568** | (1.081–2.275) | 음주는 비만 odds 1.57배 높음         |
| Sex(2 vs 1)               | **3.865** | (2.545–5.869) | 여성은 남성보다 비만 odds 3.9배 높음     |
| Education(2–4 vs 1)       | 0.66–0.82 | (0.39–1.37)   | 유의하지 않음                      |

**유의하지 않은 변수:** Education

---

## 문제 2-2. 최종모형 (Education 제거)

```r
LOR6 <- glm(Obesity ~ Physical_activity + age + Fat_meal + Drink + Sex,
            data=df_logit, family=binomial)
summary(LOR6)
```

| 변수                 | Estimate | Std.Error | z value | p-value |
| ------------------ | -------: | --------: | ------: | ------: |
| (Intercept)        |  -1.7251 |    0.2629 |  -6.561 |  <0.001 |
| Physical_activity1 |  -0.6647 |    0.1790 |  -3.714 |  <0.001 |
| age                |   0.0460 |    0.0066 |   6.953 |  <0.001 |
| Fat_meal1          |   0.4730 |    0.1817 |   2.603 |   0.009 |
| Drink1             |   0.4495 |    0.1876 |   2.396 |   0.017 |
| Sex2               |   1.3378 |    0.2109 |   6.344 |  <0.001 |

### OR (exp(β)) 및 95% CI

| 변수                        |        OR | 95% CI        | 해석                           |
| ------------------------- | --------: | :------------ | ---------------------------- |
| Physical_activity(1 vs 0) | **0.514** | (0.362–0.731) | 신체활동자는 비활동자보다 비만 odds 49% 낮음 |
| age (연속)                  | **1.047** | (1.034–1.061) | 나이 1세 증가당 비만 odds 1.05배 증가   |
| Fat_meal(1 vs 0)          | **1.605** | (1.124–2.291) | 고지방식이는 비만 odds 1.6배 높음       |
| Drink(1 vs 0)             | **1.568** | (1.085–2.264) | 음주는 비만 odds 1.57배 높음         |
| Sex(2 vs 1)               | **3.811** | (2.521–5.761) | 여성은 남성보다 비만 odds 3.8배 높음     |

---

## 문제 2-3. 결과 요약 및 해석

| 구분         | 내용                                                          |
| ---------- | ----------------------------------------------------------- |
| 유의하지 않은 변수 | Education                                                   |
| 최종 모형 변수   | Physical_activity, age, Fat_meal, Drink, Sex                |
| 핵심 결과      | 신체활동은 보호요인(OR≈0.51), age·Fat_meal·Drink·Sex는 위험요인           |
| 해석         | 신체활동은 비만 odds를 49% 낮추며, 연령 증가, 고지방식이, 음주, 여성은 비만 odds를 높인다. |

**요약문:**

> Education을 제외한 공변량을 보정한 결과,
> 규칙적인 신체활동은 비만 odds를 **0.51배(49% 감소)** 시키는 보호요인으로 나타났다.
> 반면, 나이(OR=1.05), 고지방식이(OR=1.61), 음주(OR=1.57), 여성 성별(OR=3.81)은
> 비만 odds를 유의하게 증가시키는 요인으로 나타났다.
